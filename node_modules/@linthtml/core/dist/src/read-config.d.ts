import type Issue from "./issue.js";
import type { Node, Range } from "@linthtml/dom-utils/dom_elements";
export type reportFunction = (data: {
    code: string;
    position: Range;
    meta?: {
        data: unknown;
    };
    message?: string;
}) => void;
export interface RuleDefinition {
    name: string;
    deprecated?: boolean;
    deprecation_hint?: string;
    lint: (node: Node, rule_config: unknown, obj: {
        report: reportFunction;
        rules: Record<string, ActiveRuleDefinition>;
        global_config: Record<string, unknown>;
    }) => void;
    validateConfig?: <T>(option: T) => void | never;
    configTransform?: (option: unknown) => unknown;
    filter?: string[];
    end?: (opts?: unknown) => Issue[];
}
export type ActiveRuleDefinition = RuleDefinition & {
    severity: "warning" | "error";
    config: unknown;
};
export type RuleSeverity = "warning" | "error";
export type RuleActivation = boolean | RuleSeverity | "off";
export type RuleConfig = RuleActivation | readonly [RuleActivation] | readonly [RuleActivation, unknown];
export type LinterConfig = {
    extends?: string | string[];
    plugins?: string[];
    parser?: string;
    ignoreFiles?: string[];
    maxerr?: number;
    "text-ignore-regex"?: string | RegExp | false;
    "raw-ignore-regex"?: string | RegExp | false;
    "attr-name-ignore-regex"?: string | RegExp | false;
    "id-class-ignore-regex"?: string | RegExp | false;
    "line-max-len-ignore-regex"?: string | RegExp | false;
    plugins_rules?: {
        [rules_name: string]: RuleDefinition;
    };
    rules?: {
        [rule_name: string]: RuleConfig;
    };
};
export interface PluginConfig {
    rules?: RuleDefinition[];
}
export type LegacyRuleOption = Partial<RuleDefinition> & {
    name: string;
    active?: boolean;
    rules?: string[];
};
export type LegacyRuleDefinition = RuleDefinition & {
    options?: LegacyRuleOption[];
    on?: string;
    subscribers?: LegacyRuleDefinition[];
};
export interface LegacyLinterConfig {
    maxerr?: number;
    "text-ignore-regex"?: string | RegExp | false;
    "raw-ignore-regex"?: string | RegExp | false;
    "attr-name-ignore-regex"?: string | RegExp | false;
    "id-class-ignore-regex"?: string | RegExp | false;
    "line-max-len-ignore-regex"?: string | RegExp | false;
    [rule_name: string]: unknown;
}
export interface ExtractConfigResult {
    filepath: string;
    isEmpty?: boolean | undefined;
    config: LinterConfig | LegacyLinterConfig;
}
declare function get_module_path(basedir: string, module_name: string): string | never;
declare function config_from_path(file_path: string): Promise<ExtractConfigResult> | never;
declare function find_local_config(file_path: string): Promise<ExtractConfigResult | null> | never;
export { config_from_path, find_local_config, get_module_path };
//# sourceMappingURL=read-config.d.ts.map